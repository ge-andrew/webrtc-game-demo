import { base } from "./mapComp/base.js"
import { tile } from "./mapComp/tile.js"
import { unit } from "./mapComp/unit.js"

export class map {
    constructor(hostPlayerId, guestPlayerId) {
        this.tiles = []

        for(let i = 0; i < 10; i++) {
            for(let j = 0; j < 10; j++) {
                this.tiles[i] = [...(this.tiles[i] ? this.tiles[i] : []),
                    new tile(true)
                ];
            }
        }

        this.tiles[1][1].contents = new base(hostPlayerId)
        this.tiles[1][1].isTraversable = false
        this.tiles[8][8].contents = new base(guestPlayerId)
        this.tiles[8][8].isTraversable = false
    }

    spawnUnit(player, tile) {
        // check if position is valid
        this.tiles[tile[0]][tile[1]].contents = new unit(player.playerId)
        this.tiles[tile[0]][tile[1]].isTraversable = false
        return true
    }
}

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    